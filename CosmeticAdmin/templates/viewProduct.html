{%extends 'admin_header.html'%}
{% load static %}
{% include 'adminfooter.html'%}


{% block content %}

<main>
{% if messages %}
{% for message in messages %}
{% if message.tags == 'success'%}
<div class="alert success">
  <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
  {{message}}
</div>
{% elif  message.tags == 'error' %}
<div class="alert error">
  <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
  <strong>{{message}}</strong>
</div>
{% endif %}
{% endfor %}
{% endif %}


<br>
<h1 class ="text-3xl font-semibold">Your Products</h1>
<br><br>
<table id="customers">
  <colgroup>    
    <col width="5%">    
    <col width="15%">
    <col width="20%">
    <col width="20%">
    <col width="20%">
    <col width="20%">
</colgroup>
  <tr class="px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-gray-100 dark:text-light dark:hover:bg-primary">
    <th class="text-center">#</th>
    <th colspan="2" class="text-center">Product (Image/Name/Categories/Subcategory)</th>
    <th class="text-center">Price</th>
    <th class="text-center">Quantity</th>   
    <th class="text-center">update / Delete</th>
  </tr>
  {%for i in data %}
  <tr class="px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-gray-100 dark:text-light dark:hover:bg-primary">
    <td class="text-center">{{forloop.counter}}</td>
    <td><img class="cart__image" src="/media/{{i.img1}}" alt="{{item.Product.ProductName}}">
    </td>
    <td> 
      <ul> 
        <li>{{i.ProductName}}</li>
        <li>{{i.category}}</li>    
        <li>{{i.Subcategory}}</li>
      </ul>  
  </td>
    <td>
      <ul>
        <li>
          Actual Price:{{i.ActualPrice}}</li>
        <li>Offer Price:{{i.offerPrice}}</li>
      </ul>      
    </td>
    <td class="text-center">{{i.StackQuantity}}</td>
    <td class="text-center">
      <a href="{%url 'update_product' i.id %}" class="w-full px-4 py-2 border rounded-md dark:bg-darker dark:border-gray-700 focus:outline-none focus:ring focus:ring-primary-100 dark:focus:ring-primary-darker button">Update</a>
      <a href="{%url 'delete_product' i.id %}" class="w-full px-4 py-2 border rounded-md dark:bg-darker dark:border-gray-700 focus:outline-none focus:ring focus:ring-primary-100 dark:focus:ring-primary-darker button">Delete </a>
    </td>                         
  </tr>
  {%endfor%}
</table>

</main>
<style>
#customers {
  border-collapse: collapse;
  width: 95%;
  margin-top: 0px;
}

#customers td, #customers th {
  border: 1px solid #ddd;
  padding: 8px;
}

#customers th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: center;
  font-size: medium;
}

.button {
  
  border: none;  
  border: 2px outset #ddd;
  padding: 5px 15px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}

</style>
{% endblock %}

